@startuml
[*] --> NEW : Initial State

NEW --> PENDING_CONFIRMATION : BOOK_PARKING_SLOT\n[confirmBookingAction]
NEW --> NEW : BOOKING_CANCELLED\n[cancelBookingAction]

PENDING_CONFIRMATION --> CONFIRMED : BOOKING_CONFIRMED
PENDING_CONFIRMATION --> DECLINED : BOOKING_FAILED
PENDING_CONFIRMATION --> PENDING_CONFIRMATION : BOOKING_CANCELLED\n[cancelBookingAction]

CONFIRMED --> ACTIVE : VEHICLE_PARKED
CONFIRMED --> CONFIRMED : BOOKING_CANCELLED\n[cancelBookingAction]

ACTIVE --> OVERSTAY : OVERSTAY_OCCURRED
ACTIVE --> COMPLETED : BOOKING_COMPLETED

NEW : NEW
PENDING_CONFIRMATION : PENDING_CONFIRMATION
CONFIRMED : CONFIRMED
ACTIVE : ACTIVE
OVERSTAY : OVERSTAY
CANCELLED : CANCELLED
COMPLETED : COMPLETED
DECLINED : DECLINED

@enduml